/* ===== THEME VARS ===== */
:root{
    --c-free-bg: #e9f8ef;
    --c-free-bd: #74d680;

    --c-hold-bg: #fff3cd;
    --c-hold-bd: #ffca2c;

    --c-myhold-bg: #e7f7ff;
    --c-myhold-bd: #22a6f2;

    --c-sold-bg: #fde2e2;
    --c-sold-bd: #f5c2c7;

    --c-chosen-bg: #cfe2ff;
    --c-chosen-bd: #0d6efd;
}

/* ===== Base ===== */
body {
    font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
    background: #fafafa;
    color: #333;
}

/* ===== Mini-cars (carriages) ===== */
.mini-cars {
    overflow-x: auto;
    white-space: nowrap;
    gap: 8px;
    padding: 8px 2px 2px;
    display: flex;
}

.mini-cars::-webkit-scrollbar {
    height: 6px;
}
.mini-cars::-webkit-scrollbar-thumb {
    background: #d0d7de;
    border-radius: 6px;
}

.mini-car {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: 1px solid #dee2e6;
    background: #f8f9fa;
    padding: 6px 14px;
    border-radius: 8px;
    font-weight: 600;
    font-size: .95rem;
    cursor: pointer;
    transition: .18s;
}
.mini-car:hover {
    background: #eef6ff;
    border-color: #91c3ff;
}
.mini-car.active {
    background: #0d6efd;
    color: #fff;
    border-color: #0d6efd;
}

/* ===== Coach wrapper ===== */
.coach-wrapper{
    border:1px solid #e0e0e0;
    border-radius:12px;
    background:#fff;
    padding:16px 20px;
    box-shadow:0 2px 6px rgba(0,0,0,.04);
}
.coach-header{
    margin-bottom:12px;
}
.coach-title{
    font-weight:700;
    font-size:1.05rem;
}

/* ===== Seat area + GRID (center) ===== */
.seat-area{
    display:flex;
    justify-content:center;
}
#seatGrid{
    display:grid;
    grid-template-columns: repeat(var(--cols, 6), 80px); /* số cột do JS set --cols */
    gap: 14px 18px;
    width: max-content;            /* ôm sát để căn giữa */
    margin: 0 auto;                /* canh giữa container */
    justify-content: center;       /* đề phòng */
}

/* ===== Seat ===== */
.seat{
    width:80px;
    height:72px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:6px;
    border:2px solid #dee2e6;
    border-radius:12px;
    background:#fff;
    font-weight:700;
    text-align:center;
    padding:6px 4px;
    transition:transform .15s, border-color .15s, background .15s, box-shadow .15s;
    position: relative; /* để gắn badge TTL */
}
.seat:hover{
    transform:scale(1.05);
}
.seat:focus-visible{
    outline:2px solid #0d6efd55;
    outline-offset:2px;
}

/* Trạng thái khớp với JS: free / hold / myhold / sold / chosen */
.seat.free{
    background: var(--c-free-bg);
    border-color: var(--c-free-bd);
}
.seat.hold{
    background: var(--c-hold-bg);
    border-color: var(--c-hold-bd);
}
.seat.myhold{
    background: var(--c-myhold-bg);
    border-color: var(--c-myhold-bd);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--c-myhold-bd) 60%, transparent) inset;
}
.seat.sold{
    background: var(--c-sold-bg);
    border-color: var(--c-sold-bd);
    color:#a33;
}
.seat.chosen{
    background: var(--c-chosen-bg);
    border-color: var(--c-chosen-bd);
}
.seat:disabled{
    opacity:.6;
    cursor:not-allowed;
}

.seat .seat-label{
    font-size:.95rem;
    line-height:1;
}
.seat .seat-price{
    font-size:.8rem;
    color:#555;
    font-weight:600;
}

/* TTL badge (đếm ngược giây còn lại khi hold) */
.seat .seat-ttl{
    position:absolute;
    right:6px;
    bottom:6px;
    font-size:.7rem;
    line-height:1;
    padding:2px 6px;
    border-radius:999px;
    background:#0000000f;
    border:1px solid #00000014;
}

/* ===== Legend & buttons ===== */
.legend{
    display:flex;
    align-items:center;
    gap:16px;
    font-size:.9rem;
    flex-wrap: wrap;
}
.legend .dot{
    width:14px;
    height:14px;
    border-radius:50%;
    margin-right:6px;
    display:inline-block;
    border:1px solid #0001;
}
.dot.free   {
    background: var(--c-free-bd);
}
.dot.hold   {
    background: var(--c-hold-bd);
}
.dot.myhold {
    background: var(--c-myhold-bd);
}
.dot.sold   {
    background: #f87171;
}
.dot.chosen {
    background: var(--c-chosen-bd);
}

/* ===== Responsive ===== */
@media (max-width: 768px){
    #seatGrid{
        grid-template-columns: repeat(var(--cols, 5), 68px);
        gap:12px;
    }
    .seat{
        width:68px;
        height:62px;
    }
}
@media (max-width: 576px){
    #seatGrid{
        grid-template-columns: repeat(var(--cols, 5), 60px);
        gap:10px;
    }
    .seat{
        width:60px;
        height:56px;
    }
}
